<div class="p-4">
  <p class="text-green-500"><%= notice %></p>

  <%= render @section %>

  <div class="flex justify-between items-center mb-4">
    <div class="btn-group" role="group">
      <% if can? [:update, :create, :delete], @section %>
        <%= link_to edit_section_path(@section), class: "btn btn-success mr-2" do %>
          <i class="bi bi-pencil"></i> Edit this section
        <% end %>

        <%= link_to new_section_path(parent_id: @section.public_uid), class: "btn btn-success mr-2" do %>
          <i class="bi bi-plus"></i> Create New Children
        <% end %>

        <%= button_to @section, method: :delete, class: "btn btn-danger mr-2", data: { confirm: 'Are you sure?' } do %>
          <i class="bi bi-trash"></i> Destroy this section
        <% end %>
      <% end %>
    </div>

    <%= link_to sections_path, class: "btn btn-secondary" do %>
      <i class="bi bi-arrow-left"></i> Back to sections
    <% end %>
  </div>

  <% if @section.children.present? %>
    <h5 class="mb-2">Children</h5>
    <div class="overflow-x-auto">
      <table class="min-w-full bg-white shadow-md rounded-lg overflow-hidden">
        <thead class="bg-gray-800 text-white">
          <tr>
            <th class="py-2 px-4">Name</th>
            <th class="py-2 px-4">Short Name</th>
            <th class="py-2 px-4">Action</th>
          </tr>
        </thead>
        <tbody class="divide-y divide-gray-200">
          <% @section.children.each do |child| %>
            <tr>
              <td class="py-2 px-4"><%= child.name %></td>
              <td class="py-2 px-4"><%= child.short_name %></td>
              <td class="py-2 px-4">
                <%= link_to "Show this section", child, class: "btn btn-secondary" %>
              </td>
            </tr>
          <% end %>
        </tbody>
      </table>
    </div>
  <% end %>
</div>
